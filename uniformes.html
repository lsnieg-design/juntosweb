<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uniformes - Juntos a la Par</title>
    <meta name="description" content="Uniformes escolares realizados por el Taller Laboral de Sublimaci√≥n de la Escuela Juntos a la Par.">
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="img/logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <header>
        <a href="/" class="logo-container">
            <img src="img/logo.png" alt="Logo Juntos a la Par" class="logo-img-header">
            <div class="logo-texto">
                <h1>Juntos a la Par</h1>
                <span>Escuela de Educaci√≥n Especial</span>
            </div>
        </a>
        <nav>
            <ul id="menu-lista">
                <li><a href="/">Inicio</a></li>
                <li><a href="/nosotros">Nosotros</a></li>
                <li><a href="/servicios">Servicios</a></li>
                <li><a href="/sede">Sede</a></li>
                <li><a href="/admisiones">Admisiones</a></li>
                <li><a href="/contacto">Contacto</a></li>
            </ul>
        </nav>
        <div class="hamburger" id="menu-toggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </header>

    <div class="hero-inner hero-uniformes">
        <h2>Uniformes Escolares</h2>
        <p>Hechos con orgullo por nuestro Taller Laboral</p>
        <div class="custom-shape-divider-bottom-1">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
    </div>

    <section class="seccion-taller">
        <div class="contenedor">
            <div class="texto-centrado">
                <span class="material-icons icono-gigante">palette</span>
                <h3>El valor de lo hecho a mano</h3>
                <p>Cada remera y uniforme que usan lxs estudiantes es el resultado del trabajo, aprendizaje y dedicaci√≥n de quienes conforman el <strong>Taller Laboral de Sublimaci√≥n</strong>. Al adquirir el uniforme ac√°, no solo te llev√°s una prenda de excelente calidad, sino que est√°s apoyando directamente el desarrollo de habilidades sociolaborales de lxs chicxs.</p>
            </div>
            
            <h4 class="titulo-galeria">Nuestros Modelos</h4>
            <div class="grilla-fotos-2">
                <div class="foto-tarjeta"><img src="img/remeras1.jpg" alt="Modelo de remera 1"></div>
                <div class="foto-tarjeta"><img src="img/remeras2.jpg" alt="Modelo de remera 2"></div>
            </div>

            <h4 class="titulo-galeria">Gu√≠a de Talles</h4>
            <div class="grilla-fotos-2">
                <div class="foto-tarjeta"><img src="img/talle1.jpg" alt="Gu√≠a de talle 1"></div>
                <div class="foto-tarjeta"><img src="img/talle2.jpg" alt="Gu√≠a de talle 2"></div>
            </div>
        </div>
    </section>

    <section class="seccion-formulario-pedido">
        <div class="contenedor">
            <div class="texto-centrado" id="texto-intro-form">
                <h3>Hac√© tu pedido online</h3>
                <p>Complet√° el siguiente formulario para encargar los uniformes. Nos pondremos en contacto con vos a la brevedad para confirmar el pago y la entrega.</p>
            </div>

            <div class="contenedor-formulario" id="caja-formulario">
                <form id="form-uniformes">
                    
                    <div class="grupo-form">
                        <label>Nombre y apellido del/la estudiante</label>
                        <input type="text" id="pedido-nombre" class="form-style" required placeholder="Ej: Garc√≠a, Juan">
                    </div>

                    <div class="fila-form">
                        <div class="grupo-form">
                            <label>Ciclo al que concurre</label>
                            <select id="pedido-ciclo" class="form-style" required>
                                <option value="" disabled selected>Seleccionar...</option>
                                <option value="Inicial">Inicial</option>
                                <option value="1 Ciclo">1¬∞ Ciclo</option>
                                <option value="2 Ciclo">2¬∞ Ciclo</option>
                                <option value="CFI">CFI</option>
                                <option value="Fines">Fines</option>
                            </select>
                        </div>
                        <div class="grupo-form">
                            <label>Docente a cargo</label>
                            <input type="text" id="pedido-docente" class="form-style" required placeholder="Nombre del/la docente">
                        </div>
                    </div>

                    <div class="grupo-form">
                        <label>Tel√©fono de contacto</label>
                        <input type="tel" id="pedido-telefono" class="form-style" required placeholder="Ej: 11 1234 5678">
                    </div>

                    <div class="fila-form">
                        <div class="grupo-form">
                            <label>Talle (Mir√° la gu√≠a de im√°genes arriba)</label>
                            <select id="pedido-talle" class="form-style" required>
                                <option value="" disabled selected>Elegir talle...</option>
                                <optgroup label="L√≠nea Ni√±xs ($18.000)">
                                    <option value="Ni√±os 4">Talle 4</option>
                                    <option value="Ni√±os 6">Talle 6</option>
                                    <option value="Ni√±os 8">Talle 8</option>
                                    <option value="Ni√±os 10">Talle 10</option>
                                    <option value="Ni√±os 12">Talle 12</option>
                                    <option value="Ni√±os 14">Talle 14</option>
                                </optgroup>
                                <optgroup label="L√≠nea Adultxs ($20.000)">
                                    <option value="Adultos S">Talle S</option>
                                    <option value="Adultos M">Talle M</option>
                                    <option value="Adultos L">Talle L</option>
                                    <option value="Adultos XL">Talle XL</option>
                                    <option value="Adultos XXL">Talle XXL</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="grupo-form">
                            <label>Cantidad</label>
                            <input type="number" id="pedido-cantidad" class="form-style" required min="1" value="1">
                        </div>
                    </div>

                    <div class="grupo-form">
                        <label>Forma de pago</label>
                        <select id="metodo-pago" class="form-style" required>
                            <option value="" disabled selected>¬øC√≥mo prefer√≠s abonar?</option>
                            <option value="Efectivo">Efectivo (Requiere transferencia del 20% como se√±a)</option>
                            <option value="Transferencia">Transferencia Bancaria (Totalidad)</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-primary btn-enviar-pedido">Confirmar Pedido</button>
                </form>
            </div>

            <div id="mensaje-exito" class="mensaje-oculto">
                <span class="material-icons icono-exito">task_alt</span>
                <h3>¬°Recibimos tu solicitud!</h3>
                
                <div class="caja-datos-pago">
                    <p>Para que el Taller Laboral comience con la confecci√≥n, es necesario realizar el pago. <strong>Si elegiste abonar en efectivo, record√° que deb√©s transferir una se√±a del 20%</strong> y abonar el resto al retirar el uniforme en la escuela.</p>
                    <div class="datos-alias">
                        <strong>Valores:</strong> Talles chicos $18.000 | Talles grandes $20.000<br>
                        <strong>Alias:</strong> talleresjuntos 
                        <button type="button" onclick="copiarAlias()" style="background:none; border:none; color:#5D9CB3; cursor:pointer; text-decoration:underline; font-weight:bold; font-size:0.9rem; padding-left:10px;">(Copiar Alias)</button><br>
                        <strong>Titular:</strong> Escuela Juntos a la Par
                    </div>
                    <p class="demora-texto"><span class="material-icons">schedule</span> La demora de confecci√≥n es de <strong>10 a 20 d√≠as</strong> desde la confirmaci√≥n del pago.</p>
                </div>

                <a href="#" id="btn-enviar-mail" class="btn-email-comprobante">
                    <span class="material-icons">email</span> Enviar Comprobante por Mail
                </a>
                <p style="margin-top: 15px; font-size: 0.9rem; color: #666;">
                    *Al tocar el bot√≥n se abrir√° tu correo <strong>ya escrito con tu pedido</strong>. Solo record√° <strong>adjuntar la foto</strong> del comprobante de transferencia.
                </p>
            </div>
        </div>
    </section>

    <footer>
        </footer>

   <script>
        const menuToggle = document.getElementById('menu-toggle');
        const menuLista = document.getElementById('menu-lista');
        menuToggle.addEventListener('click', () => {
            menuLista.classList.toggle('activo');
        });

        function copiarAlias() {
            navigator.clipboard.writeText("talleresjuntos").then(() => {
                alert("¬°Alias copiado! Ya pod√©s pegarlo en tu aplicaci√≥n del banco o Mercado Pago.");
            });
        }

        const formulario = document.getElementById('form-uniformes');
        const cajaFormulario = document.getElementById('caja-formulario');
        const mensajeExito = document.getElementById('mensaje-exito');
        const btnEnviarMail = document.getElementById('btn-enviar-mail');
        const textoIntro = document.getElementById('texto-intro-form'); 

        // ESTE ES EL LINK MAGICO QUE COPIASTE EN EL PASO 3:
        const urlGoogleScript = "https://script.google.com/macros/s/AKfycby75GEjvGT8wiehrXxFGgcVMCuGpqsh83z4YMVx_RwEjBaNPXGWFUDHUl6Fvu1rHaIf0w/exec";

        formulario.addEventListener('submit', function(event) {
            event.preventDefault(); 
            
            // Cambiamos el texto del bot√≥n temporalmente para dar feedback
            const btnSubmit = document.querySelector('.btn-enviar-pedido');
            btnSubmit.innerText = "Procesando pedido...";
            btnSubmit.style.opacity = "0.7";

            const nombre = document.getElementById('pedido-nombre').value;
            const ciclo = document.getElementById('pedido-ciclo').value;
            const docente = document.getElementById('pedido-docente').value;
            const telefono = document.getElementById('pedido-telefono').value;
            const talle = document.getElementById('pedido-talle').value;
            const cantidad = document.getElementById('pedido-cantidad').value;
            const pago = document.getElementById('metodo-pago').value;

            // 1. Armamos el paquete de datos para mandar al Excel
            const datosParaExcel = {
                nombre: nombre,
                ciclo: ciclo,
                docente: docente,
                telefono: telefono,
                talle: talle,
                cantidad: cantidad,
                pago: pago
            };

            // 2. Enviamos los datos al Excel en silencio (fetch)
            fetch(urlGoogleScript, {
                method: "POST",
                body: JSON.stringify(datosParaExcel)
            })
            .then(respuesta => {
                // Una vez que el Excel avis√≥ que guard√≥ todo, armamos el mail
                const cuerpoMail = `Hola equipo del Taller de Sublimaci√≥n,

Adjunto el comprobante de pago correspondiente a este nuevo pedido:

üìã DATOS DEL PEDIDO:
-----------------------------------
- Estudiante: ${nombre}
- Ciclo: ${ciclo}
- Docente: ${docente}
- Tel√©fono: ${telefono}
- Talle: ${talle}
- Cantidad: ${cantidad}
- Forma de Pago elegida: ${pago}
-----------------------------------


¬°Muchas gracias!`;

                const mailToLink = `mailto:cfitalleresjuntos@gmail.com?subject=Nuevo Pedido y Comprobante - ${nombre}&body=${encodeURIComponent(cuerpoMail)}`;
                btnEnviarMail.href = mailToLink;

                // Ocultamos formulario y mostramos √©xito
                if (textoIntro) textoIntro.style.display = 'none';
                cajaFormulario.style.display = 'none';
                mensajeExito.style.display = 'block';
            })
            .catch(error => {
                alert("Hubo un error al procesar el pedido. Por favor, intent√° nuevamente.");
                btnSubmit.innerText = "Confirmar Pedido";
                btnSubmit.style.opacity = "1";
            });
        });
    </script>
</body>
</html>
